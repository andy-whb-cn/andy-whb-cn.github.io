{"meta":{"title":"Andy's Note","subtitle":"","description":"","author":"Andy","url":"https://andy-whb-cn.github.io","root":"/"},"pages":[{"title":"分类","date":"2024-08-22T09:40:49.988Z","updated":"2024-08-22T09:40:49.988Z","comments":false,"path":"categories/index.html","permalink":"https://andy-whb-cn.github.io/categories/index.html","excerpt":"","text":""},{"title":"关于","date":"2024-08-22T09:40:49.988Z","updated":"2024-08-22T09:40:49.988Z","comments":false,"path":"about/index.html","permalink":"https://andy-whb-cn.github.io/about/index.html","excerpt":"","text":"个人详细介绍"},{"title":"书单","date":"2024-08-22T09:40:49.988Z","updated":"2024-08-22T09:40:49.988Z","comments":false,"path":"books/index.html","permalink":"https://andy-whb-cn.github.io/books/index.html","excerpt":"","text":""},{"title":"标签","date":"2024-08-22T09:40:49.989Z","updated":"2024-08-22T09:40:49.989Z","comments":false,"path":"tags/index.html","permalink":"https://andy-whb-cn.github.io/tags/index.html","excerpt":"","text":""},{"title":"404 Not Found：该页无法显示","date":"2024-08-22T09:40:49.988Z","updated":"2024-08-22T09:40:49.988Z","comments":false,"path":"/404.html","permalink":"https://andy-whb-cn.github.io/404.html","excerpt":"","text":""},{"title":"友情链接","date":"2024-08-22T09:40:49.988Z","updated":"2024-08-22T09:40:49.988Z","comments":true,"path":"links/index.html","permalink":"https://andy-whb-cn.github.io/links/index.html","excerpt":"","text":""},{"title":"Repositories","date":"2024-08-22T09:40:49.988Z","updated":"2024-08-22T09:40:49.988Z","comments":false,"path":"repository/index.html","permalink":"https://andy-whb-cn.github.io/repository/index.html","excerpt":"","text":""}],"posts":[{"title":"my new post","slug":"my-new-post","date":"2024-08-22T08:33:34.000Z","updated":"2024-08-22T08:33:34.371Z","comments":true,"path":"2024/08/22/my-new-post/","permalink":"https://andy-whb-cn.github.io/2024/08/22/my-new-post/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"IFrame自适应高度","slug":"IFrame-Auto-Resize","date":"2024-04-30T06:43:29.847Z","updated":"2024-08-26T06:49:25.301Z","comments":true,"path":"2024/04/30/IFrame-Auto-Resize/","permalink":"https://andy-whb-cn.github.io/2024/04/30/IFrame-Auto-Resize/","excerpt":"","text":"IFrame子页面自适应高度问题项目中经常会遇到需要通过IFrame集成子页面的情况，比较常见的问题如跨域、自适应页面高度等。 方案一 廖老师这里介绍得很全面，直接引用原文 https://liaoxuefeng.com/blogs/all/2024-02-25-auto-resize-iframe/ 方案二 使用第三方库(Vue), https://github.com/davidjbradshaw/iframe-resizer 安装库1$ npm install iframe-resizer@latest -S IFrame子窗口页面123456789101112131415// directives/iframeResize.jsimport iframeResize from &#x27;iframe-resizer/js/iframeResizer&#x27; export default &#123; beforeMount: (el, &#123; value = &#123;&#125; &#125;) =&gt; &#123; el.addEventListener(&#x27;load&#x27;, () =&gt; iframeResize(value, el)) &#125;, unmounted: (el) =&gt; &#123; el.iFrameResizer.removeListeners() &#125;&#125; // index.jsimport iframeResize from &#x27;./iframeResize&#x27;app.directive(&#x27;resize&#x27;, iframeResize) IFrame父窗口页面12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273&lt;template&gt; &lt;div class=&quot;iframe-wrapper&quot;&gt; &lt;iframe v-resize=&quot;iFrameResizer&quot; id=&quot;Iframe&quot; width=&quot;100%&quot; :src=&quot;url&quot; frameborder=&quot;0&quot; &gt;&lt;/iframe&gt; &lt;/div&gt;&lt;/template&gt; &lt;script&gt;import &#123; mapGetters &#125; from &#x27;vuex&#x27;import &#123; jumpOtherSSO &#125; from &#x27;@/utils/sso/sso&#x27;import &#123; openFunc &#125; from &#x27;@/utils/util&#x27;export default &#123; name: &#x27;AppCenter&#x27;, data () &#123; return &#123; iFrameResizer: &#123; log: false, heightCalculationMethod: &#x27;lowestElement&#x27;, warningTimeout: 0 &#125;, ssoUrl: &#x27;&#x27; &#125; &#125;, mounted () &#123; // this.updateIframeHeightFunc() if (this.isUserLogin) &#123; jumpOtherSSO(&#x27;appCenter&#x27;, &#123; page: 1 &#125;).then(res =&gt; &#123; this.ssoUrl = res.data &#125;).catch(() =&gt; &#123; this.ssoUrl = this.$route.query.url &#125;) &#125; window.addEventListener(&#x27;message&#x27;, (e) =&gt; &#123; if (e.data.appId) &#123; const routeData = this.$router.resolve(&#123; name: this.$routerNameMap.appCenterDetails, query: &#123; url: xxx`, id: e.data.appId &#125; &#125;) openFunc(routeData.href) &#125; &#125;) &#125;, computed: &#123; ...mapGetters([&#x27;isUserLogin&#x27;]), url () &#123; return !this.isUserLogin ? this.$route.query.url : this.ssoUrl &#125; &#125;, methods: &#123; updateIframeHeightFunc () &#123; const oIframe = document.getElementById(&#x27;Iframe&#x27;) const deviceHeight = document.documentElement.clientHeight + 2360 oIframe.style.height = `$&#123;deviceHeight&#125;px` &#125; &#125;&#125;&lt;/script&gt; &lt;style lang=&quot;scss&quot; scoped&gt;.iframe-wrapper &#123; width: 100%; height: 100%; border: 0;&#125;&lt;/style&gt;","categories":[],"tags":[{"name":"Vue、前端","slug":"Vue、前端","permalink":"https://andy-whb-cn.github.io/tags/Vue%E3%80%81%E5%89%8D%E7%AB%AF/"}]}],"categories":[],"tags":[{"name":"Vue、前端","slug":"Vue、前端","permalink":"https://andy-whb-cn.github.io/tags/Vue%E3%80%81%E5%89%8D%E7%AB%AF/"}]}