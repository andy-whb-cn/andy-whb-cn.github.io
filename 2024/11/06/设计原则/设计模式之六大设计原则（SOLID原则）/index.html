<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>设计模式之六大设计原则（SOLID原则） | Andy&#39;s Note</title>
  <meta name="description" content="为什么会有六大原则面向过程编程到面向对象编程是软件设计的一大步，封装、继承、多态是面向对象的三大特征，本来这些都是面向对象的好处，但是一旦有人滥用了，就有了坏味道，代码的坏味道导致系统的可维护性和复用性等变低，所以面向对象需要遵循一些原则make the code better。如：一个servlet干所有事情可以改为MVC，每一层的类做自己负责的事情，遵循单一职责原则。 为了提高系统的可维护性、">
<meta property="og:type" content="article">
<meta property="og:title" content="设计模式之六大设计原则（SOLID原则）">
<meta property="og:url" content="https://andy-whb-cn.github.io/2024/11/06/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%85%AD%E5%A4%A7%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%EF%BC%88SOLID%E5%8E%9F%E5%88%99%EF%BC%89/index.html">
<meta property="og:site_name" content="Andy&#39;s Note">
<meta property="og:description" content="为什么会有六大原则面向过程编程到面向对象编程是软件设计的一大步，封装、继承、多态是面向对象的三大特征，本来这些都是面向对象的好处，但是一旦有人滥用了，就有了坏味道，代码的坏味道导致系统的可维护性和复用性等变低，所以面向对象需要遵循一些原则make the code better。如：一个servlet干所有事情可以改为MVC，每一层的类做自己负责的事情，遵循单一职责原则。 为了提高系统的可维护性、">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/6810e906066044299403283215465453.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/5685c98b7d7b4d8890e11fe733d51de1.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/d7f21da12e1c41dab697d14bca62731a.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/cf96e9a0a749461bb43a6a8545bbf49d.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/afb508c631f540d5a7982f6d9661d4f7.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/bfe5b661ca7e4861898a9217679f7b51.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/39687c32557a4a37bc339cb67bee604f.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/393cda22234d48378343ae0fe11afd86.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/5138365d7c964433a5adca31239d67d5.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/3de2a33f298c4df4a23e3709d6c49653.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/34147a3e339841d0ac91b0647819f586.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/3dbecb28d0f741e382e09a916d8511a9.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/4de8a11686974fe89317885ea8e99c89.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/a930fc9e9ca14f78a8b5750d29059a43.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/ecf2fe6ce1a34cdea67f8f3ebc469826.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/af7cf9aeabc44e99b902eaefc2f6ac3d.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/3f828240826f496cac9a7654fe039c4d.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/b8be47040d7343d69d3c60997f2b26d9.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/1392fe6b3fd44ae09726bd05a415dd61.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/af7cf9aeabc44e99b902eaefc2f6ac3d.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/4aeeb87649334270b2cee7e8d3f91d52.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/52a08650b180439eabe64d5afbcdecca.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/e2d3f8c0047a49b5aef5a2e95cd423c0.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/ed0cef80aba64003a836de4e0fe08022.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/ef07fff9b440419787e84b840fbe3f67.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/6e89b3ebb4604134996ba99c8ffab86e.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/4b52a06450b546b0ba682616c9160070.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/eccfbaa6dc5b483a948c9bc2db310046.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/dbb2aacc12634babb47df3d8d1d32a78.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/7af22396fdf74c9cba95e8c181ce8b46.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/57bb22eb40674d109c3c3def61503bf8.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/a070000089be46a7afb265965b8c04bd.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/1df3a1da1a6b406e877f44297a7d9e6b.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/aac49cb7747e43c5b076e561f705c9b5.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/96da4106ece2413bb773c79738850526.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/219d0b8796bd4d28b9e87e78eb711bc6.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/4b84096823ab4be78c68924ac107e27a.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/67e7741ccd774bc686c20868f406943e.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/90f8ece6d2474a18b29ceaecd8d5c62e.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/54ac9b91b6854e0299310d39ab9bf28c.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/5abae5c4c5814a0dbd247ef67a9ad2cb.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/b4a45d9bdda54c3980abd5b330516733.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/13f159f373474e79849ba53f608a9700.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/209ada6ba7c84f4fbc60f80a39754b10.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/65afe1e984eb4867973e94205e5b5860.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/1fe35f98ebeb420187d7dfb80598b781.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/0a18f2862cfd4a9f8b5ed996e10aaf66.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/f5cebb627fb74b3892742e168adf2d95.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/14b48eb83a7545748e1ea60984f869b7.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/fa576b9fdb68431099fa505d0072234d.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/0a2b016371664bbcb0ef5f0420e25675.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/76408358790c4c928dff62961fad5677.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/89cdaecdcae541978c3fd7941bbfa107.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/6f0cab63e1c842b097c24f1f9656ade8.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/88082d2b058146f8a21d213bf5f754a5.jpeg">
<meta property="og:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/987451e8f45045818a8ed15e6abe97db.jpeg">
<meta property="article:published_time" content="2024-11-06T01:38:49.403Z">
<meta property="article:modified_time" content="2024-11-21T01:47:23.763Z">
<meta property="article:author" content="Andy">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://5b0988e595225.cdn.sohucs.com/images/20200301/6810e906066044299403283215465453.jpeg">
  <!-- Canonical links -->
  <link rel="canonical" href="https://andy-whb-cn.github.io/2024/11/06/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%85%AD%E5%A4%A7%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%EF%BC%88SOLID%E5%8E%9F%E5%88%99%EF%BC%89/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Andy&#39;s Note" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 7.2.0"></head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://github.com/andy-whb-cn" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">Andy</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">Programmer</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Shanghai, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav ">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">标签</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-links">
          <a href="/links">
            
            <i class="icon icon-friendship"></i>
            
            <span class="menu-title">友链</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">关于</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/andy-whb-cn" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>欢迎交流与分享经验!</p>
            </div>
        </div>
    </div>
</div>

    
      

    
      
  <div class="widget">
    <h3 class="widget-title">标签</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flink/" rel="tag">Flink</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/" rel="tag">SpringBoot</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/" rel="tag">Vue</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%89%E5%85%A8/" rel="tag">安全</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" rel="tag">微服务</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%A5%E5%8F%A3/" rel="tag">接口</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%9E%B6%E6%9E%84/" rel="tag">架构</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%84%9A%E6%9C%AC/" rel="tag">脚本</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签云</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/Flink/" style="font-size: 13px;">Flink</a> <a href="/tags/Java/" style="font-size: 13.4px;">Java</a> <a href="/tags/SpringBoot/" style="font-size: 13.8px;">SpringBoot</a> <a href="/tags/Vue/" style="font-size: 13.2px;">Vue</a> <a href="/tags/java/" style="font-size: 13px;">java</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 13.2px;">前端</a> <a href="/tags/%E5%AE%89%E5%85%A8/" style="font-size: 13px;">安全</a> <a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="font-size: 13.6px;">微服务</a> <a href="/tags/%E6%8E%A5%E5%8F%A3/" style="font-size: 13px;">接口</a> <a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 14px;">架构</a> <a href="/tags/%E8%84%9A%E6%9C%AC/" style="font-size: 13px;">脚本</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">归档</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">十一月 2024</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">九月 2024</a><span class="archive-list-count">11</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">八月 2024</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">四月 2024</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2024/11/06/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E7%90%86%E8%AE%BA/%E6%8E%A2%E7%A9%B6CAP%E3%80%81PACELC%E3%80%81BASE%E7%90%86%E8%AE%BA/" class="title">探究CAP、PACELC、BASE理论</a>
              </p>
              <p class="item-date">
                <time datetime="2024-11-06T09:22:10.177Z" itemprop="datePublished">2024-11-06</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2024/11/06/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E6%8E%A2%E7%A9%B6%E4%BC%81%E4%B8%9A%E6%9E%B6%E6%9E%84/" class="title">(no title)</a>
              </p>
              <p class="item-date">
                <time datetime="2024-11-06T07:54:50.869Z" itemprop="datePublished">2024-11-06</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2024/11/06/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E6%8E%A2%E7%A9%B6%E6%9E%B6%E6%9E%84%E7%90%86%E8%AE%BA%E7%9A%84%E6%BC%94%E8%BF%9B%EF%BC%88%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E6%9E%B6%E6%9E%84%EF%BC%89/" class="title">探究架构理论的演进（领域驱动架构）</a>
              </p>
              <p class="item-date">
                <time datetime="2024-11-06T03:23:04.498Z" itemprop="datePublished">2024-11-06</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2024/11/06/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E6%8E%A2%E7%A9%B6KISS%E5%8E%9F%E5%88%99/" class="title">探究KISS原则</a>
              </p>
              <p class="item-date">
                <time datetime="2024-11-06T02:34:35.950Z" itemprop="datePublished">2024-11-06</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-inner">
              <p class="item-category">
                
              </p>
              <p class="item-title">
                <a href="/2024/11/06/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%85%AD%E5%A4%A7%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%EF%BC%88SOLID%E5%8E%9F%E5%88%99%EF%BC%89/" class="title">设计模式之六大设计原则（SOLID原则）</a>
              </p>
              <p class="item-date">
                <time datetime="2024-11-06T01:38:49.403Z" itemprop="datePublished">2024-11-06</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<main class="main" role="main">
  <div class="content">
  <article id="post-设计原则/设计模式之六大设计原则（SOLID原则）" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      设计模式之六大设计原则（SOLID原则）
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2024/11/06/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%85%AD%E5%A4%A7%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%EF%BC%88SOLID%E5%8E%9F%E5%88%99%EF%BC%89/" class="article-date">
	  <time datetime="2024-11-06T01:38:49.403Z" itemprop="datePublished">2024-11-06</time>
	</a>
</span>
        
        

        

        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2024/11/06/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%85%AD%E5%A4%A7%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%EF%BC%88SOLID%E5%8E%9F%E5%88%99%EF%BC%89/#comments" class="article-comment-link">评论</a></span>
        
      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h2 id="为什么会有六大原则"><a href="#为什么会有六大原则" class="headerlink" title="为什么会有六大原则"></a>为什么会有六大原则</h2><p>面向过程编程到面向对象编程是软件设计的一大步，封装、继承、多态是面向对象的三大特征，本来这些都是面向对象的好处，但是一旦有人滥用了，就有了坏味道，代码的坏味道导致系统的可维护性和复用性等变低，所以面向对象需要遵循一些原则make the code better。如：一个servlet干所有事情可以改为MVC，每一层的类做自己负责的事情，遵循单一职责原则。</p>
<p>为了提高系统的可维护性、复用性和高内聚低耦合等， 2000 年Robert C. Martin（也被称为 Uncle Bob）在他的论文《设计原则和设计模式》中首次提出了SOLID 原则（注：SOLID 这个缩写是后来由 Michael Feathers 概括确定的）。因为设计模式是面向对象实践出来的经验，所以这六大原则既是面向对象的六大原则，也是设计模式的六大原则。</p>
<p>六大设计原则主要是指：</p>
<ul>
<li>单一职责原则（Single Responsibility Principle）；</li>
<li>开闭原则（Open Closed Principle）；</li>
<li>里氏替换原则（Liskov Substitution Principle）；</li>
<li>迪米特法则（Law of Demeter），又叫“最少知道法则”；</li>
<li>接口隔离原则（Interface Segregation Principle）；</li>
<li>依赖倒置原则（Dependence Inversion Principle）。</li>
</ul>
<p>把这 6 个原则的首字母（里氏替换原则和迪米特法则的首字母重复，只取一个）联合起来就是：SOLID（稳定的），其代表的含义也就是把这 6 个原则结合使用的好处：建立稳定、灵活、健壮的设计。</p>
<h1 id="单一职责原则"><a href="#单一职责原则" class="headerlink" title="单一职责原则"></a>单一职责原则</h1><p>单一职责原则的定义是：应该有且仅有一个原因引起类的变更。</p>
<p>没错，单一职责原则就这一句话，不懂没关系，我们举个例子。</p>
<p>我们以打电话为例，电话通话的时候有 4 个过程发生：拨号、通话、回应、挂机。那我们写一个接口，类图如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/6810e906066044299403283215465453.jpeg"></p>
<p>代码为：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/5685c98b7d7b4d8890e11fe733d51de1.jpeg"></p>
<p>我们看这个接口有没有问题？相信大部分同学会觉得没问题，因为平常我们就是这么写的。没错，这个接口接近于完美，注意，是“接近”。单一职责原则要求一个接口或一个类只能有一个原因引起变化，也就是一个接口或者类只能有一个职责，它就负责一件事情，看看上面的接口只负责一件事情吗？明显不是。</p>
<p>IPhone这个接口包含了两个职责：协议管理和数据传送。dial 和 hangup 这两个方法实现的是协议管理，分别负责拨号接通和挂机，chat 方法实现的是数据传送。不管是协议接通的变化还是输出传送的变化，都会引起这个接口的变化。所以，IPhone这个接口并不符合单一职责原则。若要让IPhone满足单一职责原则，我们就要对其进行拆分，拆分后的类图如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/d7f21da12e1c41dab697d14bca62731a.jpeg"></p>
<p>这样设计就完美了，一个类实现了两个接口，把两个职责融合在一个类中。你会觉得这个Phone有两个原因引起变化了啊，是的，但是别忘了我们是面向接口编程，我们对外公布的是接口而不是实现类。</p>
<p>另外，单一职责原则不仅适用于接口和类，也适用于方法。一个方法尽可能只做一件事，比如一个修改用户密码的方法，不要把这个方法放到“修改用户信息”方法中。</p>
<p><strong>单一职责的好处</strong></p>
<ol>
<li>类的复杂性降低，实现什么职责都有清晰明确的定义；</li>
<li>可读性高，复杂性降低，可读性自然就提高了；</li>
<li>可维护性提高，可读性提高了，那自然更容易维护了；</li>
<li>变更引起的风险降低，变更是必不可少的，如果接口的单一职责做得好，一个接口修改只对相应的实现类有影响，对其他的接口无影响，这对系统的扩展性、维护性都有非常大的帮助。</li>
</ol>
<h1 id="里氏替换原则"><a href="#里氏替换原则" class="headerlink" title="里氏替换原则"></a>里氏替换原则</h1><p>在面向对象的语言中，继承是必不可少的、非常优秀的语言机制，它有如下优点：</p>
<ol>
<li>代码共享，减少创建类的工作量，每个子类都拥有父类的属性和方法；</li>
<li>提高代码的重用性；</li>
<li>子类可以形似父类，但又异于父类；</li>
<li>提高代码的可扩展性；</li>
<li>提高产品或项目的开放性。</li>
</ol>
<p>有优点就必然存在缺点：</p>
<ol>
<li>继承是侵入性的。只要继承，就必须拥有父类的属性和方法。</li>
<li>降低代码的灵活性。子类会多一些父类的约束。</li>
<li>增强了耦合性。当父类的常量、变量、方法被修改时，需要考虑子类的修改。</li>
</ol>
<p>为了让“利”的因素发挥最大的作用，同时减少“弊”带来的麻烦，引入了里氏替换原则（LSP）。</p>
<p>历史替换原则最正宗的定义是：如果对每一个类型为S的对象o1，都有类型为T的对象o2，使得以T定义的所有程序P在所有的对象o1都代替o2时，程序P的行为没有发生变化，那么类型S是类型T的子类型。</p>
<p>通俗点讲，就是只要父类能出现的地方，子类就可以出现，而且替换为子类也不会产生任何错误或异常。</p>
<p>里氏替换原则为良好的继承定义了一个规范，一句简单的定义包含了4层含义。</p>
<p><strong>1. 子类必须完全实现父类的方法。</strong></p>
<p>我们在做系统设计的时候，经常会定义一个接口或抽象类，然后编码实现，调用类则直接传入接口或抽象类，其实这里就已经使用了里氏替换原则。我们以打CS举例，来描述一下里面用到的枪。类图如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/cf96e9a0a749461bb43a6a8545bbf49d.jpeg"></p>
<p>枪的主要职责是射击，如何射击在各个具体的子类中实现，在士兵类Soldier中定义了一个方法 killEnemy，使用枪来kill敌人，具体用什么枪，调用的时候才知道。</p>
<p>AbstractGun类源码如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/afb508c631f540d5a7982f6d9661d4f7.jpeg"></p>
<p>手枪、步枪、机枪的实现类代码如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/bfe5b661ca7e4861898a9217679f7b51.jpeg"></p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/39687c32557a4a37bc339cb67bee604f.jpeg"></p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/393cda22234d48378343ae0fe11afd86.jpeg"></p>
<p>士兵类的源码为：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/5138365d7c964433a5adca31239d67d5.jpeg"></p>
<p>注意，士兵类的killEnemy方法中使用的gun是抽象的，具体时间什么枪需要由客户端（Client）调用Soldier的构造方法传参确定。</p>
<p>客户端Client源码如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/3de2a33f298c4df4a23e3709d6c49653.jpeg"></p>
<p><strong>注意：</strong>在类中调用其他类时务必要使用父类或接口，如果不能使用父类或接口，则说明类的设计已经违背了LSP原则。</p>
<p><strong>2. 孩子类可以有自己的个性。</strong></p>
<p>孩子类当然可以有自己的属性和方法了，也正因如此，在子类出现的地方，父类未必就可以代替。</p>
<p>还是以上面的关于枪支的例子为例，步枪有 AK47、SKS狙击步枪等型号，把这两个型号的枪引入后的Rifle的子类图如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/34147a3e339841d0ac91b0647819f586.jpeg"></p>
<p>SKS狙击步枪可以配一个8倍镜进行远程瞄准，相对于父类步枪，这就是SKS的个性。源码如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/3dbecb28d0f741e382e09a916d8511a9.jpeg"></p>
<p>狙击手Spinner类的源码如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/4de8a11686974fe89317885ea8e99c89.jpeg"></p>
<p>狙击手因为只能使用狙击枪，所以，狙击手类中持有的枪只能是狙击类型的，如果换成父类步枪Rifle，则传递进来的可能就不是狙击枪，而是AK47了，而AK47是没有zoomOut方法的，所以肯定是不行的。这也验证了里氏替换原则的那一句话：有子类出现的地方，父类未必就可以代替。</p>
<p><strong>3. 覆盖或实现父类的方法时，输入参数可以被放大。</strong></p>
<p>来看一个例子，我们先定义一个Father类：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/a930fc9e9ca14f78a8b5750d29059a43.jpeg"></p>
<p>然后定义一个子类：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/ecf2fe6ce1a34cdea67f8f3ebc469826.jpeg"></p>
<p>子类方法与父类方法同名，但又不是覆写父类的方法。你加个@Override看看，会报错的。像这种方法名相同，方法参数不同，叫做方法的重载。你可能会有疑问：重载不是只能在当前类内部重载吗？因为Son继承了Father，Son就有了Father的所有属性和方法，自然就有了Father的doSomething这个方法，所以，这里就构成了重载。</p>
<p>接下来看场景类：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/af7cf9aeabc44e99b902eaefc2f6ac3d.jpeg"></p>
<p>根据里氏替换原则，父类出现的地方子类就可以出现，我们把上面的父类替换为子类：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/3f828240826f496cac9a7654fe039c4d.jpeg"></p>
<p>我们发现运行结果是一样的。为什么会这样呢？因为子类Son继承了Father，就拥有了doSomething(HashMap map)这个方法，不过由于Son没有重写这个方法，当调用Son的这个方法的时候，就会自动调用其父类的这个方法。所以两次的结果是一致的。</p>
<p>举个反例，如果父类的输入参数类型大于子类的输入参数类型，会出现什么问题呢？我们直接看代码执行结果即可轻松看出问题：</p>
<p>扩大父类方法入参：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/b8be47040d7343d69d3c60997f2b26d9.jpeg"></p>
<p>缩小子类方法入参：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/1392fe6b3fd44ae09726bd05a415dd61.jpeg"></p>
<p>场景类：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/af7cf9aeabc44e99b902eaefc2f6ac3d.jpeg"></p>
<p>根据里氏替换原则，有父类的地方就可以有子类，我们把Father替换为Son看看结果：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/4aeeb87649334270b2cee7e8d3f91d52.jpeg"></p>
<p>两次运行结果不一致，违反了里氏替换原则，所以<strong>子类中方法的入参类型必须与父类中被覆写的方法的入参类型相同或更宽松。</strong></p>
<p><strong>4. 覆盖或实现父类的方法时，输出结果可以被缩小。</strong></p>
<p>这句话的意思就是，父类的一个方法的返回值是类型T，子类的相同方法（重载或重写）的返回值为类型S，那么里氏替换原则就要求S必须小于等于T。为什么呢？因为重写父类方法，父类和子类的同名方法的输入参数是相同的，两个方法的范围值S小于等于T，这时重写父类方法的要求。</p>
<h1 id="依赖倒置原则"><a href="#依赖倒置原则" class="headerlink" title="依赖倒置原则"></a>依赖倒置原则</h1><p>依赖倒置原则在Java语言中的表现是：</p>
<ol>
<li><p>模块间的依赖通过抽象发生，实现类之间不直接发生依赖关系，其依赖关系是通过接口或抽象类产生的；</p>
</li>
<li><p>接口或抽象类不依赖于实现类；</p>
</li>
<li><p>实现类依赖接口或抽象类。</p>
</li>
</ol>
<p>说白了，就是“面向接口编程”。</p>
<p><strong>依赖倒置原则可以减少类间的耦合性，提高系统的稳定性，降低并行开发引起的风险，提高代码的可读性和可维护性。</strong></p>
<p>我们以汽车和司机举例，画出类图：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/52a08650b180439eabe64d5afbcdecca.jpeg"></p>
<p>奔驰车源代码：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/e2d3f8c0047a49b5aef5a2e95cd423c0.jpeg"></p>
<p>司机源代码：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/ed0cef80aba64003a836de4e0fe08022.jpeg"></p>
<p>客户端源代码：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/ef07fff9b440419787e84b840fbe3f67.jpeg"></p>
<p>通过以上的代码，完成了司机开动奔驰车的场景。可以看到，这个场景并没有引用依赖倒置原则，司机Driver类直接依赖奔驰车Benz类，这样会有什么隐患呢？试想，后期业务变动，司机又买了一辆宝马车，源代码如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/6e89b3ebb4604134996ba99c8ffab86e.jpeg"></p>
<p>由于司机现在只有开奔驰的方法，所以他是开不了宝马的。一个拿有C驾照的司机能开奔驰，不能开宝马？太不合理了。所以，这就暴露出上面的设计问题了。我们对上面的功能重新设计，首先新建两个接口。</p>
<p>汽车接口ICar：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/4b52a06450b546b0ba682616c9160070.jpeg"></p>
<p>司机接口IDriver：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/eccfbaa6dc5b483a948c9bc2db310046.jpeg"></p>
<p>IDriver中，通过传入ICar接口实现了抽象之间的依赖关系。</p>
<p>接下来创建汽车实现类：奔驰和宝马。</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/dbb2aacc12634babb47df3d8d1d32a78.jpeg"></p>
<p>然后创建司机实现类：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/7af22396fdf74c9cba95e8c181ce8b46.jpeg"></p>
<p>最后是场景类调用：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/57bb22eb40674d109c3c3def61503bf8.jpeg"></p>
<p>Client属于高层业务逻辑，它对低层模块的依赖都建立在抽象上，driver的表面类型是IDriver，benz的表面类型是ICar。</p>
<p><strong>依赖倒置原则的使用建议：</strong></p>
<p>（1）每个类尽量都有接口或抽象类，或者接口和抽象类两者都具备。</p>
<p>（2）变量的表面类型尽量是接口或抽象类。</p>
<p>（3）任何类都不应该从具体类派生。</p>
<p>（4）尽量不要重写基类的方法。如果基类是一个抽象类，而且这个方法已经实现了，子类尽量不要重写。</p>
<p>（5）结合里氏替换原则使用。</p>
<h1 id="接口隔离原则"><a href="#接口隔离原则" class="headerlink" title="接口隔离原则"></a>接口隔离原则</h1><p>接口隔离原则就是客户端不应该依赖它不需要的接口，或者说类间的依赖关系应该建立在最小的接口上。</p>
<p>我们以搜索美女为例，设计了如下的类图：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/a070000089be46a7afb265965b8c04bd.jpeg"></p>
<p>源代码如下。美女及其实现类：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/1df3a1da1a6b406e877f44297a7d9e6b.jpeg"></p>
<p>搜索程序及其子类源代码如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/aac49cb7747e43c5b076e561f705c9b5.jpeg"></p>
<p>最后是场景调用类：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/96da4106ece2413bb773c79738850526.jpeg"></p>
<p>上面实现了一个搜索美女的小程序。我们想象这个程序有没有问题？IPettyGirl接口是否做到了最优化？并没有。</p>
<p>每个人的审美观不一样，张三认为颜值高就是美女，即使身材和气质一般；李四认为身材好就行，不在乎颜值和气质；而王五则认为颜值和身材都是外在，只要有气质，那就是美女。这时，IPettyGirl接口就满足不了了，因为IPettyGirl的要求是颜值、身材、气质兼具才是美女。所以为了满足各种人的口味，我们需要重新设计接口的结构。把IPettyGirl拆分为3个接口，分别表示颜值高、身材好、气质佳。修改后的类图如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/219d0b8796bd4d28b9e87e78eb711bc6.jpeg"></p>
<p>源代码如下。美女及其实现类：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/4b84096823ab4be78c68924ac107e27a.jpeg"></p>
<p>搜索类及其子类如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/67e7741ccd774bc686c20868f406943e.jpeg"></p>
<p>通过重构以后，不管以后需要颜值美女，还是需要身材美女，抑或气质美女，都可以保持接口的稳定性。</p>
<p>以上把一个臃肿的接口拆分为三个独立的接口所依赖的原则就是接口隔离原则。接口隔离原则是对接口进行规范约束。</p>
<h1 id="迪米特法则"><a href="#迪米特法则" class="headerlink" title="迪米特法则"></a>迪米特法则</h1><p>迪米特法则（LoD）也叫最少知道法则：一个对象应该对其他对象有最少的了解。</p>
<p><strong>1.只和朋友交流</strong></p>
<p>迪米特法则还有一个英文解释是：Only talk to your immediate friends(只和直接的朋友交流)。每个对象都必然会与其他对象耦合，两个对象的耦合就成为朋友关系。下面我们通过体育课老师让班长清点女生人数为例讲解。</p>
<p>首先设计程序的类图：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/90f8ece6d2474a18b29ceaecd8d5c62e.jpeg"></p>
<p>编码实现：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/54ac9b91b6854e0299310d39ab9bf28c.jpeg"></p>
<p>场景类：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/5abae5c4c5814a0dbd247ef67a9ad2cb.jpeg"></p>
<p>程序开发完了，我们首先看下Teacher类有几个朋友类，首先要知道朋友类的定义：<strong>出现在成员变量、方法的输入输出参数中的类称为成员朋友类</strong>。所以Teacher类只有一个GroupLeader朋友类。根据迪米特法则，一个类只能和朋友类交流，上面的Teacher类内部却与非朋友类Girl发生了交流，这就不符合迪米特法则，破坏了程序的健壮性。</p>
<p>我们对类图做下修改：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/b4a45d9bdda54c3980abd5b330516733.jpeg"></p>
<p>修改后的代码：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/13f159f373474e79849ba53f608a9700.jpeg"></p>
<p>再看场景类调用：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/209ada6ba7c84f4fbc60f80a39754b10.jpeg"></p>
<p>总之，就是类与类之间的关系是建立在类间的，而不是方法间，因此一个方法尽量不引入一个类中不存在的对象。</p>
<p><strong>2.朋友间也是有距离的</strong></p>
<p>我们在开发中经常有这种场景：调用一个或多个类，先执行第一个方法，然后是第二个方法，根据返回结果再看是否执行第三个方法。我们以安装某个软件为例，其类图为：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/65afe1e984eb4867973e94205e5b5860.jpeg"></p>
<p>代码如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/1fe35f98ebeb420187d7dfb80598b781.jpeg"></p>
<p>场景类：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/0a18f2862cfd4a9f8b5ed996e10aaf66.jpeg"></p>
<p>程序很简单，但也存在一些问题：Wizard类把太多方法暴露给InstallSoftware类了，两者的朋友关系太亲密了，耦合关系变的异常牢固，如果要把Wizard中first方法的返回值改为Boolean类型，则要同时修改InstallSoftware类，增加了风险。因此，这种耦合是不合适的，我们需要对其优化。重构后的类图如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/f5cebb627fb74b3892742e168adf2d95.jpeg"></p>
<p>代码如下。导向类：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/14b48eb83a7545748e1ea60984f869b7.jpeg"></p>
<p>我们把安装步骤改为私有方法，只向外暴露一个安装方法，这样，即使修改步骤的逻辑，也只是对Wizard自己有影响，只需要修改自己的安装方法逻辑即可，其他类不会受到影响。</p>
<p>安装类：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/fa576b9fdb68431099fa505d0072234d.jpeg"></p>
<p>一个类公开的public属性或方法越多，修改时涉及的面也就越大，变更引起的风险扩散也就越大。所以，我们开发中尽量不要对外公布太多public方法和非静态的public变量，尽量内敛。</p>
<p><strong>3.是自己的就是自己的</strong></p>
<p>在实际开发中经常会出现这样一种情况：一个方法放在吧本类中也可以，放在其他类中也没有错。那这时，我们只需要坚持一个原则：<strong>如果一个方法放在本类中，既不增加类间关系，也对本类不产生负面影响，那就放置在本类中</strong>。</p>
<p>总之，迪米特法则的核心观念就是类间解耦，弱耦合，只有弱耦合了以后，类的复用率才可以提升上去。</p>
<h1 id="开闭原则"><a href="#开闭原则" class="headerlink" title="开闭原则"></a>开闭原则</h1><p>开闭原则是指一个软件实体如类、模块和函数应该对扩展开放，对修改关闭。也就是说一个软件实体应该通过扩展来实现变化，而不是通过修改已有的代码来实现变化。我们以书店销售书籍为例来说明什么是开闭原则。</p>
<p>其类图如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/0a2b016371664bbcb0ef5f0420e25675.jpeg"></p>
<p>书籍及其实现类代码如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/76408358790c4c928dff62961fad5677.jpeg"></p>
<p>书店类代码：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/89cdaecdcae541978c3fd7941bbfa107.jpeg"></p>
<p>项目开发完了，开始正常卖书了。假如到了双十一，要搞打折活动，上面的功能是不支持的，所以需要修改程序。有三种方法可以解决这个问题：</p>
<p>（1）修改接口</p>
<p>在IBook接口里新增getOffPrice()方法，专门用于进行打折，所有的实现类都实现该方法。但这样修改的后果就是，实现类NovelBook要修改，书店类BookStore中的main方法也要修改，同时，IBook作为接口应该是稳定且可靠的，不应该经常发生变化，因此，该方案被否定。</p>
<p>（2）修改实现类</p>
<p>修改NovelBook类中的方法，直接在getPrice()方法中实现打折处理，这个方法可以是可以，但如果采购书籍的人员要看价格怎么办，由于该方法已经进行了打折处理，因此采购人员看到的也是打折后的价格，会因信息不对称出现决策失误的情况。因此，该方案也不是一个最优的方案。</p>
<p>（3）通过扩展实现变化</p>
<p>增加一个子类OffNovelBook，覆写getPrice方法，高层次的模块（也就是BookStore中static静态块中）通过OffNovelBook类产生新的对象，完成业务变化对系统的最小开发。这样修改也少，风险也小，修改后的类图如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/6f0cab63e1c842b097c24f1f9656ade8.jpeg"></p>
<p>OffNovelBook源码如下：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/88082d2b058146f8a21d213bf5f754a5.jpeg"></p>
<p>然后修改BookStore中的书籍类为OffNovelBook：</p>
<p><img src="http://5b0988e595225.cdn.sohucs.com/images/20200301/987451e8f45045818a8ed15e6abe97db.jpeg"></p>
<p><strong>为什么要用开闭原则</strong></p>
<ol>
<li><p>开闭原则非常著名，只要是做面向对象编程的，在开发时都会提及开闭原则。</p>
</li>
<li><p>开闭原则是最基础的一个原则，前面介绍的5个原则都是开闭原则的具体形态，而开闭原则才是其精神领袖。</p>
</li>
<li><p>开闭原则提高了复用性，以及可维护性。</p>
</li>
</ol>
<h1 id="总结六大设计原则"><a href="#总结六大设计原则" class="headerlink" title="总结六大设计原则"></a>总结六大设计原则</h1><ol>
<li><p>单一职责原则：一个类或接口只承担一个职责。</p>
</li>
<li><p>里氏替换原则：在继承类时，务必重写（override）父类中所有的方法，尤其需要注意父类的protected方法（它们往往是让你重写的），子类尽量不要暴露自己的public方法供外界调用。</p>
</li>
<li><p>依赖倒置原则：高层模块不应该依赖于低层模块，而应该依赖于抽象。抽象不应依赖于细节，细节应依赖于抽象。</p>
</li>
<li><p>接口隔离原则：不要对外暴露没有实际意义的接口。</p>
</li>
<li><p>迪米特法则：尽量减少对象之间的交互，从而减小类之间的耦合。</p>
</li>
<li><p>开闭原则：对软件实体的改动，最好用扩展而非修改的方式。</p>
</li>
</ol>
<h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>六大设计原则虽好，但要熟练掌握和应用他们还是不那么容易的，需要在熟记于心的同时在编码工作中不断的实践和积累经验。</p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="https://andy-whb-cn.github.io/2024/11/06/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%85%AD%E5%A4%A7%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%EF%BC%88SOLID%E5%8E%9F%E5%88%99%EF%BC%89/" title="设计模式之六大设计原则（SOLID原则）" target="_blank" rel="external">https://andy-whb-cn.github.io/2024/11/06/设计原则/设计模式之六大设计原则（SOLID原则）/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://github.com/andy-whb-cn" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.jpg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://github.com/andy-whb-cn" target="_blank"><span class="text-dark">Andy</span><small class="ml-1x">Programmer</small></a></h3>
        <div>作者简介</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
      <script src="https://giscus.app/client.js"
        data-repo="andy-whb-cn/andy-whb-cn.github.io"
        data-repo-id="R_kgDOL1M-tw"
        data-category=""
        data-category-id="DIC_kwDOL1M-t84Ch813"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="light_protanopia"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>
    </script>
    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2024/11/06/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E6%8E%A2%E7%A9%B6KISS%E5%8E%9F%E5%88%99/" title="探究KISS原则"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2024/11/06/%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/%E6%8E%A2%E7%A9%B6DRY%E3%80%81YANGI%E3%80%81%E4%B8%89%E6%AC%A1%E6%B3%95%E5%88%99/" title="探究DRY、YANGI、三次法则"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
  </ul>
  
  
  <!-- Button trigger modal -->
  <button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button>
  <!-- <div class="wave-icon wave-icon-danger btn-donate" data-toggle="modal" data-target="#donateModal">
    <div class="wave-circle"><span class="icon"><i class="icon icon-bill"></i></span></div>
  </div> -->
  
  
  <div class="bar-right">
    
    <div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div>
    
  </div>
  </div>
</nav>
  
<!-- Modal -->
<div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content donate">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <div class="modal-body">
        <div class="donate-box">
          <div class="donate-head">
            <p>感谢您的支持，我会继续努力的!</p>
          </div>
          <div class="tab-content">
            <div role="tabpanel" class="tab-pane fade active in" id="alipay">
              <div class="donate-payimg">
                <img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">扫码打赏，你说多少就多少</p>
              <p class="text-grey">打开支付宝扫一扫，即可进行扫码打赏哦</p>
            </div>
            <div role="tabpanel" class="tab-pane fade" id="wechatpay">
              <div class="donate-payimg">
                <img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫" />
              </div>
              <p class="text-muted mv">扫码打赏，你说多少就多少</p>
              <p class="text-grey">打开微信扫一扫，即可进行扫码打赏哦</p>
            </div>
          </div>
          <div class="donate-footer">
            <ul class="nav nav-tabs nav-justified" role="tablist">
              <li role="presentation" class="active">
                <a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a>
              </li>
              <li role="presentation" class="">
                <a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/andy-whb-cn" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>






   




   
    

       







</body>
</html>